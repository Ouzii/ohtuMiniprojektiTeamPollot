<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Tips!</title>
    </head>

    <body>
        <h1>Kirjavinkit:</h1>
        <h3>explore testaukseen isbn13 esim: 978-951-98548-9-2</h3>
        <a href="/init">Alusta testinäytteet</a><br/>
        <br/>
        <p th:text="${message}">

        </p>
        <ul>
            <li th:each="tip:${tips}">
                Nimi: <span th:text="${tip.name}"/><br/>
                Isbn: <span th:text="${tip.isbn}"/><br/>
                Kirjoittaja: <span th:text="${tip.writer}"/><br/>
                Tags:<br/>
                <ul>
                    <li th:each="tag : ${tip.tags}" th:text="${tag.name}"/>
                </ul>
                <br/>
                <form th:action="@{{tipId}(tipId=${tip.id})}" th:method="DELETE">
                    <button name="delete" type="submit" style="height:20px;width:80px;background-color:red">Poista</button>
                </form>
                <form th:action="@{{tipId}(tipId=${tip.id})}" th:method="GET">
                    <button type="submit" style="height:20px;width:80px">Muokkaa</button>
                </form>

                <br/>
            </li>

        </ul>

        <h4>Lisää vinkki!</h4>
        <form th:action="@{/}" th:method="POST">
            <input type="text" name="name" placeholder="nimi"/>
            <input type="text" name="isbn" placeholder="ISBN"/>
            <input type="text" name="writer" placeholder="kirjoittaja"/>
            <input type="submit" name ="add_book" value="add_book" style="background-color:#62ea62"/>
        </form>


        <h4>Lisää tagi!</h4>
        <form action="/newTag" th:method="POST">
            <input type="text" name="tag_name" placeholder="tag"/>
            <input type="submit" name = "submit_tag" value="Lisää tagi!" style="background-color:#36abff"/>
        </form>

        <h4>Olemassaolevat tagit:</h4>
        <ul>
            <li th:each="tag : ${tags}"> 
                <span th:text="${tag.name}">tag</span>
                <form th:action="@{/deleteTag/{tagId}(tagId=${tag.id})}" th:method="DELETE">
                    <input type="submit" name="delete_tag" value="Poista" style="background-color:red"/>
                </form>
            </li>
        </ul>
    </body>
</html>
